<!doctype html><html xmlns=http://www.w3.org/1999/xhtml xml:lang=en-us lang=en-us><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><base href=https://zmsy.co/><title>zmsy | Blog</title><meta name=og:title content="Blog"><meta name=description content="Recent writing and technical articles."><meta name=og:description content="Recent writing and technical articles."><link rel=stylesheet href=https://zmsy.co/css/main.84ce17ca7edf6d27ecb7e3138a5f213bdc21e4cde27f76c7d3f623d431298ae9.css integrity="sha256-hM4Xyn7fbSfst+MTil8hO9wh5M3if3bH0/Yj1DEpiuk="><link rel=stylesheet href=https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css><link href="https://fonts.googleapis.com/css?family=Patua+One|Work+Sans&display=swap" rel=stylesheet><link rel=icon type=image/png href=https://zmsy.co/media/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=https://zmsy.co/media/favicon-16x16.png sizes=16x16><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/zmsy.co\/"},"name":"Blog","headline":"Blog","description":"Recent writing and technical articles.","inLanguage":"en-US","author":"Zach Morrissey","creator":"Zach Morrissey","publisher":"Zach Morrissey","copyrightHolder":"Zach Morrissey","copyrightYear":"2022","datePublished":"2018-01-31","dateModified":"2022-02-27T23:33:34Z","url":"https:\/\/zmsy.co\/blog\/","keywords":["Blog"]}</script></head><body><div class="columns is-centered" id=navbar-columns><div class="column is-10 is-12-touch" id=navbar-column><nav class=navbar role=navigation id=top><div class=navbar-brand><a class=navbar-item href=https://zmsy.co/><img id=logo-img src=https://zmsy.co/media/logo.svg alt="Go to Homepage"></a>
<a class=navbar-item href=https://zmsy.co/><div class=is-3 id=logo-text>zmsy.co</div></a><span class=navbar-burger id=navbar-toggle><span></span><span></span><span></span></span></div><div class=navbar-menu><div class=navbar-end><a class="navbar-item is-hidden-touch" href=https://www.linkedin.com/in/zmsyco><span class=icon><i class="fa fa-linkedin-square" title="View my LinkedIn profile."></i></span></a><a class="navbar-item is-hidden-touch" href=https://github.com/zmsy><span class=icon><i class="fa fa-github" title="Check out my Github."></i></span></a><a class="navbar-item is-hidden-touch" href=https://twitter.com/_zmsy><span class=icon><i class="fa fa-twitter" title="Check out my sparsely used Twitter account."></i></span></a><a class="navbar-item is-tab" href=https://zmsy.co/>Home</a>
<a class="navbar-item is-tab" href=https://zmsy.co/blog>Blog</a>
<a class="navbar-item is-tab" href=https://zmsy.co/projects>Projects</a>
<a class="navbar-item is-tab" href=https://zmsy.co/about>About</a></div></div></nav></div></div><div id=body><main><div class="columns is-centered is-desktop"><div class="column is-8 is-12-touch"><ul class=contents><section class=section><div class=blog-post><h2><a class="title title-dark is-size-2-touch" href=https://zmsy.co/blog/hosting-static-site-s3-cloudfront/>Hosting a Static Site on S3 & Cloudfront</a></h2><p class=meta>written by
<a href=https://twitter.com/_zmsy>Zach Morrissey</a>
on 2018-04-25</p><figure class="color-responsive-svg hero-diamonds"><svg viewBox="0 0 140 30" xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd" clip-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="1.41"><path d="M24.21 14.6 13.61 4 3 14.6l10.6 10.61 10.61-10.6zm28 0L41.61 4 31 14.6l10.6 10.61 10.61-10.6zm28 0L69.61 4 59 14.6l10.6 10.61 10.61-10.6zm28 0L97.61 4 87 14.6l10.6 10.61 10.61-10.6zm29 0L126.61 4 116 14.6l10.6 10.61 10.61-10.6z" style="fill:#38332a"/></svg></figure><div class=content><p>Considering this site is <a href=https://zmsy.co/blog/blog-versions>built with a static site generator</a>, I needed to find somewhere to host it. Amazon&rsquo;s S3 service, as it turns out, actually has <a href=https://docs.aws.amazon.com/AmazonS3/latest/dev/WebsiteHosting.html>an option to host a website out of it</a>, which is ridiculously convenient for those who are comfortable using AWS services. Prior to this, I had purchased my domain through Namecheap.</p><h3 id=requirements>Requirements</h3><p>S3 + Cloudfront met all of my pretty simple set of requirements that I wanted to enforce:</p><ul><li><strong>HTTPS</strong> - Site has to be secured with a valid certificate.</li><li><strong>Custom Domain</strong> - For professionalism and consistency.</li><li><strong>Easy Deployment</strong> - Should be able to push files easily, or have a CI/CD tool listen to my git repo to push things up.</li></ul><p>Hosting in S3 seemed to be a very straightforward way of achieving these things, so I decided to go with it.</p><h2 id=setting-up-s3-for-static-web-hosting>Setting Up S3 for Static Web Hosting</h2><p>Setting up S3 for hosting a static site is as simple as checking a box. First create a bucket for your site.</p><img src=https://zmsy.co/blog/hosting-static-site-s3-cloudfront/static_bucket.png alt="Static Bucket Settings"><p>On that menu, select your default landing document (something along the lines of index.html) and error document (i.e. 404.html or something like that).</p><img src=https://zmsy.co/blog/hosting-static-site-s3-cloudfront/website_options.png alt="Website Options"><h2 id=setting-bucket-permissions>Setting Bucket Permissions</h2><p>Once you&rsquo;ve created your static site bucket and configured it for hosting, you need to set permissions on the bucket to allow GET requests.</p><p>Under the permissions tab, edit your permissions to allow s3:GetObject permissions to public.</p><img src=https://zmsy.co/blog/hosting-static-site-s3-cloudfront/bucket_permissions.png alt="S3 Bucket Policy Editor"><div class="admonition admonition-warning"><p>This will make this bucket public. Do not keep sensitive data of any sort in it once you&rsquo;ve made this change.</p></div><h3 id=dont-need-https-youre-done>Don&rsquo;t Need HTTPS? You&rsquo;re Done!</h3><p>At this point, if you&rsquo;re not interested in setting up your site to work with HTTPS, then you can call it quits at this point. S3 will provide you with a public URL that you can reach to see the site now:</p><p><code>http://&lt;your_bucket_name_here>.s3-website-&lt;region>.amazonaws.com/</code></p><p>You can point your domain at this URL and boom, you&rsquo;re done.</p><h2 id=creating-a-cloudfront-distribution>Creating a Cloudfront Distribution</h2><p>If you do want HTTPS, and <a href=https://developers.google.com/web/fundamentals/security/encrypt-in-transit/why-https>you should want HTTPS</a>, on your site, you&rsquo;ll need to create a Cloudfront distribution, Amazon&rsquo;s CDN, in order to provide secure connections.</p><p>Create a new web distribution, with the following options selected:</p><ul><li><strong>Origin Domain Name</strong> - Amazon will automatically populate your S3 bucket in the dropdown, but you should use the full S3 website URL: <code>&lt;your_bucket_name_here>.s3-website-&lt;region>.amazonaws.com</code></li><li><strong>Viewer Protocol Policy</strong> - Choose what you want to support, but I chose &lsquo;Redirect HTTP to HTTPS&rsquo; here.</li><li><strong>Alternate Domain Names (CNAMEs)</strong> - This is how you&rsquo;ll link your domain to the Cloudfront distribution, so you should put your domain in here.</li><li><strong>Default Root Object</strong> - This should be the same as the landing document you specified in your S3 bucket website option (i.e.<code>index.html</code>).</li><li><strong>Price Class</strong> - One noted option if you want to save on hosting costs is to select the US/Canada/Europe only price class.</li><li><strong>Custom SSL Certificate</strong> - By default, the distribution uses the Cloudfront certificate, but you should request your own if you&rsquo;re hosting on a custom domain. Which brings us to our next section&mldr;</li></ul><h2 id=request-an-ssl-certificate>Request an SSL Certificate</h2><p>In order to secure your site with HTTPS, you can request a certificate through AWS Certificate Manager for your domain. You&rsquo;ll have to be able to prove you own the domain either through <a href=https://docs.aws.amazon.com/acm/latest/userguide/gs-acm-validate-dns.html>DNS validation</a> or by <a href=https://docs.aws.amazon.com/acm/latest/userguide/gs-acm-validate-email>email validation</a>. I used email validation.</p><p>There&rsquo;s a number of email addresses that AWS will send out a confirmation email to, <a href=https://docs.aws.amazon.com/acm/latest/userguide/gs-acm-validate-email.html>listed here</a>. Your domain provider should have options for forwarding email if you don&rsquo;t have it set up through them.</p><p>Once you&rsquo;re done with the certificate business, you can submit that Cloudfront distribution, which will take some time to set up.</p><h2 id=registering-your-cloudfront-distribution-with-your-domain-provider>Registering Your Cloudfront Distribution with Your Domain Provider</h2><p>Once your cloudfront distribution is set up, you should now have a URL you can access with your site like this:</p><p><code>a983qewr90asf.cloudfront.net</code></p><p>Once you&rsquo;ve got that URL, all you need to do is set up CNAME records in your domain provider, which will allow your domain to redirect to the Cloudfront distribution. For my site, I wanted to set it up using the bare domain, i.e. <code>zmsy.co</code> instead of <code>www.zmsy.co</code>.</p><p>I set up a CNAME record and a URL redirect in this way:</p><table><thead><tr><th>Type</th><th>Host</th><th>Value</th></tr></thead><tbody><tr><td>CNAME</td><td>@</td><td>a983qewr90asf.cloudfront.net</td></tr><tr><td>URL Redirect</td><td>@</td><td><a href=https://a983qewr90asf.cloudfront.net>https://a983qewr90asf.cloudfront.net</a></td></tr></tbody></table><h2 id=thats-a-wrap>That&rsquo;s a Wrap!</h2><p>You&rsquo;ll be up and running once your domain is redirecting correctly. Now, once you push objects up to S3, they should populate out to the Cloudfront distribution automatically (albeit sometimes at a random schedule, since it&rsquo;s a CDN that operates on its own time). Plenty of toolkits have S3 as a built-in endpoint, so setting up deployment either through a CLI or from a CI/CD server is relatively straightforward.</p><p>At the time I wrote this, Github Pages <a href=https://help.github.com/articles/securing-your-github-pages-site-with-https/>wasn&rsquo;t offering HTTPS but have just announced support</a>, and was primarily built using Jekyll. I&rsquo;ll be checking that one out soon too.</p></div></div></section><section class=section><div class=blog-post><h2><a class="title title-dark is-size-2-touch" href=https://zmsy.co/blog/fantasy-baseball/>Automated Fantasy Baseball Research Using Python, Pandas, and Seaborn</a></h2><p class=meta>written by
<a href=https://twitter.com/_zmsy>Zach Morrissey</a>
on 2018-03-15</p><figure class="color-responsive-svg hero-diamonds"><svg viewBox="0 0 140 30" xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd" clip-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="1.41"><path d="M24.21 14.6 13.61 4 3 14.6l10.6 10.61 10.61-10.6zm28 0L41.61 4 31 14.6l10.6 10.61 10.61-10.6zm28 0L69.61 4 59 14.6l10.6 10.61 10.61-10.6zm28 0L97.61 4 87 14.6l10.6 10.61 10.61-10.6zm29 0L126.61 4 116 14.6l10.6 10.61 10.61-10.6z" style="fill:#38332a"/></svg></figure><div class=content><h2 id=winning-fantasy-baseball-in-style>Winning Fantasy Baseball in Style</h2><p>The advantages of doing my pre-season due diligence by scouting out the best fantasy baseball players often evaporates about 3 rounds into the draft. Since I can&rsquo;t win in the draft, why not automate my in-season scouting efforts?</p><h2 id=getting-data>Getting Data</h2><p>For a good system, there are three inputs:</p><ol><li>Roster data to know who is available.</li><li>Projections to see who is slated to do well.</li><li>Mid-season player statistics to so who&rsquo;s currently doing well.</li></ol><h3 id=1----roster-data>1 &ndash; Roster Data</h3><p>Our team uses ESPN for our league, which happens to allow access to webpages so long as you take the time to <a href="http://games.espn.com/flb/resources/help/content?name=create-league-standard">make the league public</a>. Getting roster data is fairly straightforward; all you need to do is scrape the rosters page for that league ID. This is an example of that:</p><div class=highlight><pre style=background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#069;font-weight:700>import</span> <span style=color:#0cf;font-weight:700>requests</span>
<span style=color:#069;font-weight:700>import</span> <span style=color:#0cf;font-weight:700>csv</span>
<span style=color:#069;font-weight:700>from</span> <span style=color:#0cf;font-weight:700>bs4</span> <span style=color:#069;font-weight:700>import</span> BeautifulSoup

<span style=color:#09f;font-style:italic># rip your league id from your espn url</span>
league_id <span style=color:#555>=</span> <span style=color:#f60>1234567890</span>
LEAGUE_URL <span style=color:#555>=</span> <span style=color:#c30>&#34;http://games.espn.com/flb/leaguerosters?leagueId={}&#34;</span>
html <span style=color:#555>=</span> requests<span style=color:#555>.</span>get(LEAGUE_URL<span style=color:#555>.</span>format(league_id))<span style=color:#555>.</span>text

<span style=color:#09f;font-style:italic># parse the page to return the rosters table</span>
soup <span style=color:#555>=</span> BeautifulSoup(html)
rosters <span style=color:#555>=</span> soup<span style=color:#555>.</span>find_all(<span style=color:#c30>&#34;table&#34;</span>, {<span style=color:#c30>&#39;class&#39;</span>: <span style=color:#c30>&#39;playerTableTable&#39;</span>})

<span style=color:#09f;font-style:italic># loop through the rosters table and get all of the associated values</span>
players <span style=color:#555>=</span> []
<span style=color:#069;font-weight:700>for</span> roster <span style=color:#000;font-weight:700>in</span> rosters:
    team_name <span style=color:#555>=</span> roster<span style=color:#555>.</span>find(<span style=color:#c30>&#34;a&#34;</span>)<span style=color:#555>.</span>text
    players_html <span style=color:#555>=</span> roster<span style=color:#555>.</span>find_all(<span style=color:#c30>&#34;td&#34;</span>, {<span style=color:#c30>&#39;class&#39;</span>: <span style=color:#c30>&#39;playertablePlayerName&#39;</span>})
    <span style=color:#069;font-weight:700>for</span> player <span style=color:#000;font-weight:700>in</span> players_html:

        <span style=color:#09f;font-style:italic># parse player info, remove asterisks for injured players.</span>
        player_name <span style=color:#555>=</span> player<span style=color:#555>.</span>text<span style=color:#555>.</span>split(<span style=color:#c30>&#34;,&#34;</span>)[<span style=color:#f60>0</span>]
        player_name <span style=color:#555>=</span> player_name<span style=color:#555>.</span>replace(<span style=color:#c30>&#34;*&#34;</span>, <span style=color:#c30>&#34;&#34;</span>)

        <span style=color:#09f;font-style:italic># add to output list</span>
        players<span style=color:#555>.</span>append([player_name, team_name])

<span style=color:#09f;font-style:italic># write out to a csv</span>
<span style=color:#069;font-weight:700>with</span> <span style=color:#366>open</span>(<span style=color:#c30>&#34;rosters.csv&#34;</span>, <span style=color:#c30>&#34;w&#34;</span>, newline<span style=color:#555>=</span><span style=color:#c30>&#39;&#39;</span>) <span style=color:#069;font-weight:700>as</span> out_file:
    writer <span style=color:#555>=</span> csv<span style=color:#555>.</span>writer(out_file)
    writer<span style=color:#555>.</span>writerow((<span style=color:#c30>&#34;player&#34;</span>, <span style=color:#c30>&#34;team&#34;</span>))
    writer<span style=color:#555>.</span>writerows(players)
</code></pre></div><h3 id=2----projections>2 &ndash; Projections</h3><p>Player projections are common source of scouting information for our league. Since we do not use the standard scoring rules, the projections from ESPN are mostly worthless to us (not that they&rsquo;re particularly valuable otherwise). For my own purposes, I like the <a href="https://www.fangraphs.com/projections.aspx?pos=all&stats=bat&type=fangraphsdc">Depth Charts projection system</a> that they use, which is a combination of two other common projection systems (ZiPS and Steamer) weighted by an in-house projection for playing time.</p><h4 id=getting-data-with-curl>Getting Data with cURL</h4><p>There were two issues I was trying to solve for.</p><ol><li><strong>Not enough players</strong> - URL parameters & form fields didn&rsquo;t seem to contain an ability to get more than 50 players at once.</li><li><strong>Confusing ASP.net forms</strong> - These use built-in Microsoft libraries that send back somewhere between 50-60kb of base64-encoded page state data, which is a lot of added noise for my purposes.</li></ol><p>Using the network tab, I found that the link for &lsquo;page size&rsquo; allowed me to request higher amounts of players than the values in the form dropdown.</p><img src=https://zmsy.co/blog/fantasy-baseball/page_size.png alt="Fangraphs Page Size Dropdown"><ol><li>Navigate to the chrome developer tools network tab.</li><li>Filter to <code>method:POST</code> so you only get the form post and none of the other resource requests.</li><li>Right click on the post and select <code>copy</code> > <code>copy as cURL (bash)</code>.</li></ol><img src=https://zmsy.co/blog/fantasy-baseball/copy_as_curl.png alt="Chrome Network Tab for Fangraphs Page"><p>I ripped that data out into two files, <code>get_fangraphs.sh</code> (send the request), and <code>fangraphs_form_data.txt</code>. Since the data is over a certain volume with curl, you need to store it in its own file and load it using the <code>-d</code> flag.</p><div class=highlight><pre style=background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=color:#09f;font-style:italic># get batters projections html</span>
curl <span style=color:#c30>&#39;https://www.fangraphs.com/projections.aspx?pos=all&amp;stats=bat&amp;type=rfangraphsdc&#39;</span> <span style=color:#c30;font-weight:700>\
</span><span style=color:#c30;font-weight:700></span>    -H <span style=color:#c30>&#39;Accept-Encoding: gzip, deflate, br&#39;</span> <span style=color:#c30;font-weight:700>\
</span><span style=color:#c30;font-weight:700></span>    -H <span style=color:#c30>&#39;Accept-Language: en-US,en;q=0.9&#39;</span> <span style=color:#c30;font-weight:700>\
</span><span style=color:#c30;font-weight:700></span>    -H <span style=color:#c30>&#39;Upgrade-Insecure-Requests: 1&#39;</span> <span style=color:#c30;font-weight:700>\
</span><span style=color:#c30;font-weight:700></span>    -H <span style=color:#c30>&#39;Content-Type: application/x-www-form-urlencoded&#39;</span> <span style=color:#c30;font-weight:700>\
</span><span style=color:#c30;font-weight:700></span>    -H <span style=color:#c30>&#39;Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8&#39;</span> <span style=color:#c30;font-weight:700>\
</span><span style=color:#c30;font-weight:700></span>    -d @batters_form_data.txt --compressed <span style=color:#c30;font-weight:700>\
</span><span style=color:#c30;font-weight:700></span>    &gt; batters_projections.html

<span style=color:#09f;font-style:italic># get pitching projections</span>
curl <span style=color:#c30>&#39;https://www.fangraphs.com/projections.aspx?pos=all&amp;stats=pit&amp;type=rfangraphsdc&#39;</span> <span style=color:#c30;font-weight:700>\
</span><span style=color:#c30;font-weight:700></span>    -H <span style=color:#c30>&#39;Accept-Encoding: gzip, deflate, br&#39;</span> <span style=color:#c30;font-weight:700>\
</span><span style=color:#c30;font-weight:700></span>    -H <span style=color:#c30>&#39;Accept-Language: en-US,en;q=0.9&#39;</span> <span style=color:#c30;font-weight:700>\
</span><span style=color:#c30;font-weight:700></span>    -H <span style=color:#c30>&#39;Upgrade-Insecure-Requests: 1&#39;</span> <span style=color:#c30;font-weight:700>\
</span><span style=color:#c30;font-weight:700></span>    -H <span style=color:#c30>&#39;Content-Type: application/x-www-form-urlencoded&#39;</span> <span style=color:#c30;font-weight:700>\
</span><span style=color:#c30;font-weight:700></span>    -H <span style=color:#c30>&#39;Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8&#39;</span> <span style=color:#c30;font-weight:700>\
</span><span style=color:#c30;font-weight:700></span>    -d @pitchers_form_data.txt --compressed <span style=color:#c30;font-weight:700>\
</span><span style=color:#c30;font-weight:700></span>    &gt; pitchers_projections.html
</code></pre></div><p>In the <code>(batters|pitchers)_form_data.txt</code> file, there was one adjustment to make to get a higher number than 50 entries back: <code>__EVENTARGUMENT=FireCommand:ProjectionBoard1$dg1$ctl00;PageSize;50</code> - change this <code>50</code> to something like <code>2500</code> or so.</p><p>Voila! You&rsquo;ve now got a page with the HTML table containing all of the projections information there is to want. You can then plug use pandas' <code>read_html()</code> function to parse this output for you.</p><h3 id=3----actuals>3 &ndash; Actuals</h3><p>In addition to projections, having in-season results helps improve our judgment and add context to the projections. There are players whom are specifically favored by the projection systems (namely, players with long histories), and players who are treated rather unkindly (small sample sizes).</p><p>Getting the ongoing statistics on a per-player basis turned out to be much easier than anything related to the projections. With a little manipulation of URL parameters, you can easily create a page for scraping that contains all of the necessary information in one go.</p><ul><li><a href="https://www.fangraphs.com/leaders.aspx?pos=all&stats=pit&lg=al&qual=y&type=c,36,37,38,40,-1,120,121,217,-1,24,41,42,43,44,-1,117,118,119,-1,6,45,124,-1,62,122,13&season=2018&month=0&season1=2018&ind=0&team=0&rost=0&age=0&filter=&players=0&page=1_100000">Pitching Stats</a></li><li><a href="https://www.fangraphs.com/leaders.aspx?pos=all&stats=bat&lg=al&qual=y&type=8&season=2018&month=0&season1=2018&ind=0&team=0&rost=0&age=0&filter=&players=0&page=1_10000">Batting Stats</a></li></ul><p>Creating a short script to parse out player rows and add them to another csv for consumption later on turned out to be short work once I figured this bit out. Here&rsquo;s the script I used (uses requests and beautifulsoup, similar to above):</p><div class=highlight><pre style=background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#069;font-weight:700>import</span> <span style=color:#0cf;font-weight:700>requests</span>
<span style=color:#069;font-weight:700>import</span> <span style=color:#0cf;font-weight:700>csv</span>
<span style=color:#069;font-weight:700>import</span> <span style=color:#0cf;font-weight:700>datetime</span>
<span style=color:#069;font-weight:700>from</span> <span style=color:#0cf;font-weight:700>bs4</span> <span style=color:#069;font-weight:700>import</span> BeautifulSoup

<span style=color:#09f;font-style:italic># static urls</span>
season <span style=color:#555>=</span> datetime<span style=color:#555>.</span>datetime<span style=color:#555>.</span>now()<span style=color:#555>.</span>year
PITCHERS_URL <span style=color:#555>=</span> <span style=color:#c30>&#34;https://www.fangraphs.com/leaders.aspx?pos=all&amp;stats=pit&amp;lg=all&amp;qual=0&amp;type=c,36,37,38,40,-1,120,121,217,-1,24,41,42,43,44,-1,117,118,119,-1,6,45,124,-1,62,122,13&amp;season={season}&amp;month=0&amp;season1={season}&amp;ind=0&amp;team=0&amp;rost=0&amp;age=0&amp;filter=&amp;players=0&amp;page=1_100000&#34;</span><span style=color:#555>.</span>format(season<span style=color:#555>=</span>season)
BATTERS_URL <span style=color:#555>=</span> <span style=color:#c30>&#34;https://www.fangraphs.com/leaders.aspx?pos=all&amp;stats=bat&amp;lg=all&amp;qual=0&amp;type=8&amp;season={season}&amp;month=0&amp;season1={season}&amp;ind=0&amp;team=0&amp;rost=0&amp;age=0&amp;filter=&amp;players=0&amp;page=1_10000&#34;</span><span style=color:#555>.</span>format(season<span style=color:#555>=</span>season)

<span style=color:#09f;font-style:italic># request the data</span>
pitchers_html <span style=color:#555>=</span> requests<span style=color:#555>.</span>get(PITCHERS_URL)<span style=color:#555>.</span>text
batters_html <span style=color:#555>=</span> requests<span style=color:#555>.</span>get(BATTERS_URL)<span style=color:#555>.</span>text

<span style=color:#069;font-weight:700>def</span> <span style=color:#c0f>parse_array_from_fangraphs_html</span>(input_html, out_file_name):
    <span style=color:#c30>&#34;&#34;&#34;
</span><span style=color:#c30>    Take a HTML stats page from fangraphs and parse it out to a CSV file.
</span><span style=color:#c30>    &#34;&#34;&#34;</span>
    <span style=color:#09f;font-style:italic># parse input</span>
    soup <span style=color:#555>=</span> BeautifulSoup(input_html, <span style=color:#c30>&#34;lxml&#34;</span>)
    table <span style=color:#555>=</span> soup<span style=color:#555>.</span>find(<span style=color:#c30>&#34;table&#34;</span>, {<span style=color:#c30>&#34;class&#34;</span>: <span style=color:#c30>&#34;rgMasterTable&#34;</span>})
    
    <span style=color:#09f;font-style:italic># get headers</span>
    headers_html <span style=color:#555>=</span> table<span style=color:#555>.</span>find(<span style=color:#c30>&#34;thead&#34;</span>)<span style=color:#555>.</span>find_all(<span style=color:#c30>&#34;th&#34;</span>)
    headers <span style=color:#555>=</span> []
    <span style=color:#069;font-weight:700>for</span> header <span style=color:#000;font-weight:700>in</span> headers_html:
        headers<span style=color:#555>.</span>append(header<span style=color:#555>.</span>text)
    <span style=color:#069;font-weight:700>print</span>(headers)
    
    <span style=color:#09f;font-style:italic># get rows</span>
    rows <span style=color:#555>=</span> []
    rows_html <span style=color:#555>=</span> table<span style=color:#555>.</span>find(<span style=color:#c30>&#34;tbody&#34;</span>)<span style=color:#555>.</span>find_all(<span style=color:#c30>&#34;tr&#34;</span>)
    <span style=color:#069;font-weight:700>for</span> row <span style=color:#000;font-weight:700>in</span> rows_html:
        row_data <span style=color:#555>=</span> []
        <span style=color:#069;font-weight:700>for</span> cell <span style=color:#000;font-weight:700>in</span> row<span style=color:#555>.</span>find_all(<span style=color:#c30>&#34;td&#34;</span>):
            row_data<span style=color:#555>.</span>append(cell<span style=color:#555>.</span>text)
        rows<span style=color:#555>.</span>append(row_data)
    
    <span style=color:#09f;font-style:italic># write to CSV file</span>
    <span style=color:#069;font-weight:700>with</span> <span style=color:#366>open</span>(out_file_name, <span style=color:#c30>&#34;w&#34;</span>) <span style=color:#069;font-weight:700>as</span> out_file:
        writer <span style=color:#555>=</span> csv<span style=color:#555>.</span>writer(out_file)
        writer<span style=color:#555>.</span>writerow(headers)
        writer<span style=color:#555>.</span>writerows(rows)
        
parse_array_from_fangraphs_html(batters_html, <span style=color:#c30>&#39;batters_actuals.csv&#39;</span>)
parse_array_from_fangraphs_html(pitchers_html, <span style=color:#c30>&#39;pitchers_actuals.csv&#39;</span>)
</code></pre></div><p>Normally, I would use pandas <a href=https://pandas.pydata.org/pandas-docs/stable/generated/pandas.read_html.html>read_html</a> function for parsing HTML tables like this (which uses lxml internally, same as BeautifulSoup), but the encoding of this table caused enough havoc that I decided to write the parser myself. If you&rsquo;re in a similar scenario, try that method first!</p><h2 id=reading-the-data-into-pandas>Reading the Data Into Pandas</h2><p><a href=https://pandas.pydata.org/>Pandas</a> is very capable of producing these sorts of analyses using tabular data in a straightforward, repeatable manner. Our league uses a customized stat list to base our categories on, so we have to derive many of these after getting actuals/projections.</p><h4 id=batting-stats>Batting Stats</h4><ul><li><strong>HR</strong>: Home Runs</li><li><strong>K</strong>: Strikeouts</li><li><strong>RC</strong>: Runs Created (AB * OBP * SLG)</li><li><strong>OBP</strong>: On Base Percentage</li><li><strong>SLG</strong>: Slugging Percentage</li></ul><h4 id=pitching-stats>Pitching Stats</h4><ul><li><strong>HR</strong>: Home Runs Against</li><li><strong>K</strong>: Strikeouts</li><li><strong>ERA</strong>: Earned Run Average</li><li><strong>QS</strong>: Quality Starts</li><li><strong>OBA</strong>: On-Base Percentage Against</li></ul><p>! There are plenty of different scoring methods used in fantasy. If you want to try this on yours, you can edit the code to use your own categories instead.</p><h4 id=pandas>Pandas</h4><p>Bringing this all into pandas is relatively easy, because of its <em>insanely</em> useful <code>read_csv()</code> function. Not only does this do your opening/reading for you, it almost always gets the data types correct as well.</p><div class=highlight><pre style=background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#09f;font-style:italic># read in all outputs</span>
df_rost <span style=color:#555>=</span> pd<span style=color:#555>.</span>read_csv(<span style=color:#c30>&#39;rosters.csv&#39;</span>)
dfb_act <span style=color:#555>=</span> pd<span style=color:#555>.</span>read_csv(<span style=color:#c30>&#39;batters_actuals.csv&#39;</span>)
dfp_act <span style=color:#555>=</span> pd<span style=color:#555>.</span>read_csv(<span style=color:#c30>&#39;pitchers_actuals.csv&#39;</span>)

<span style=color:#09f;font-style:italic># create a function to parse out percentage strings to floats</span>
<span style=color:#069;font-weight:700>def</span> <span style=color:#c0f>parse_pctg</span>(value):
    <span style=color:#069;font-weight:700>return</span> <span style=color:#366>float</span>(value<span style=color:#555>.</span>split()[<span style=color:#f60>0</span>]) <span style=color:#555>/</span> <span style=color:#f60>100</span>

<span style=color:#09f;font-style:italic># apply that to all percentage values in the dataframes</span>
dfb_act[<span style=color:#c30>&#39;BB%&#39;</span>] <span style=color:#555>=</span> dfb_act[<span style=color:#c30>&#39;BB%&#39;</span>]<span style=color:#555>.</span>apply(<span style=color:#069;font-weight:700>lambda</span> x: parse_pctg(x))
dfb_act[<span style=color:#c30>&#39;K%&#39;</span>] <span style=color:#555>=</span> dfb_act[<span style=color:#c30>&#39;K%&#39;</span>]<span style=color:#555>.</span>apply(<span style=color:#069;font-weight:700>lambda</span> x: parse_pctg(x))
dfp_act[<span style=color:#c30>&#39;K%&#39;</span>] <span style=color:#555>=</span> dfp_act[<span style=color:#c30>&#39;K%&#39;</span>]<span style=color:#555>.</span>apply(<span style=color:#069;font-weight:700>lambda</span> x: parse_pctg(x))
dfp_act[<span style=color:#c30>&#39;BB%&#39;</span>] <span style=color:#555>=</span> dfp_act[<span style=color:#c30>&#39;BB%&#39;</span>]<span style=color:#555>.</span>apply(<span style=color:#069;font-weight:700>lambda</span> x: parse_pctg(x))
dfp_act[<span style=color:#c30>&#39;K-BB%&#39;</span>] <span style=color:#555>=</span> dfp_act[<span style=color:#c30>&#39;K-BB%&#39;</span>]<span style=color:#555>.</span>apply(<span style=color:#069;font-weight:700>lambda</span> x: parse_pctg(x))
dfp_act[<span style=color:#c30>&#39;LOB%&#39;</span>] <span style=color:#555>=</span> dfp_act[<span style=color:#c30>&#39;LOB%&#39;</span>]<span style=color:#555>.</span>apply(<span style=color:#069;font-weight:700>lambda</span> x: parse_pctg(x))

<span style=color:#069;font-weight:700>with</span> <span style=color:#366>open</span>(<span style=color:#c30>&#39;batters_projections.html&#39;</span>, <span style=color:#c30>&#39;r&#39;</span>) <span style=color:#069;font-weight:700>as</span> bhtml:
    btxt <span style=color:#555>=</span> bhtml<span style=color:#555>.</span>read()
    dfb_proj <span style=color:#555>=</span> pd<span style=color:#555>.</span>read_html(btxt)[<span style=color:#555>-</span><span style=color:#f60>1</span>]  <span style=color:#09f;font-style:italic># read_html returns ALL tables, we just want the last one.</span>
    dfb_proj<span style=color:#555>.</span>dropna(axis<span style=color:#555>=</span><span style=color:#f60>1</span>, inplace<span style=color:#555>=</span>True)

<span style=color:#069;font-weight:700>with</span> <span style=color:#366>open</span>(<span style=color:#c30>&#39;pitchers_projections.html&#39;</span>, <span style=color:#c30>&#39;r&#39;</span>) <span style=color:#069;font-weight:700>as</span> phtml:
    ptxt <span style=color:#555>=</span> phtml<span style=color:#555>.</span>read()
    dfp_proj <span style=color:#555>=</span> pd<span style=color:#555>.</span>read_html(btxt)[<span style=color:#555>-</span><span style=color:#f60>1</span>]
    dfp_proj<span style=color:#555>.</span>dropna(axis<span style=color:#555>=</span><span style=color:#f60>1</span>, inplace<span style=color:#555>=</span>True)

<span style=color:#09f;font-style:italic># list of data sets: df_rost, dfb_act, dfb_proj, dfp_act, dfp_proj</span>
</code></pre></div><p>This means we&rsquo;ve got 5 inputs - one for rosters, two for projections, and two for actuals. Time to get crankin' on the analysis part!</p><h2 id=joining-and-visualizing-in-pandasseaborn>Joining and Visualizing in Pandas/Seaborn</h2><p>First we need to join the datasets together into two dataframes that will make things easier to use: batters and pitchers. Roster information goes into both.</p><div class=highlight><pre style=background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#09f;font-style:italic># merge batters into one &#39;dfb&#39; Dataframe</span>
dfb <span style=color:#555>=</span> pd<span style=color:#555>.</span>merge(dfb_proj, df_rost, how<span style=color:#555>=</span><span style=color:#c30>&#39;left&#39;</span>, on<span style=color:#555>=</span><span style=color:#c30>&#39;Name&#39;</span>, suffixes<span style=color:#555>=</span>(<span style=color:#c30>&#39;.p&#39;</span>, <span style=color:#c30>&#39;.r&#39;</span>))
dfb <span style=color:#555>=</span> pd<span style=color:#555>.</span>merge(dfb, dfb_act, how<span style=color:#555>=</span><span style=color:#c30>&#39;left&#39;</span>, on<span style=color:#555>=</span><span style=color:#c30>&#39;Name&#39;</span>, suffixes<span style=color:#555>=</span>(<span style=color:#c30>&#39;&#39;</span>, <span style=color:#c30>&#39;.a&#39;</span>))

<span style=color:#09f;font-style:italic># merge pitchers into one &#39;dfp&#39; dataframe</span>
dfp <span style=color:#555>=</span> pd<span style=color:#555>.</span>merge(dfp_proj, df_rost, how<span style=color:#555>=</span><span style=color:#c30>&#39;left&#39;</span>, on<span style=color:#555>=</span><span style=color:#c30>&#39;Name&#39;</span>, suffixes<span style=color:#555>=</span>(<span style=color:#c30>&#39;.p&#39;</span>, <span style=color:#c30>&#39;.r&#39;</span>))
dfp <span style=color:#555>=</span> pd<span style=color:#555>.</span>merge(dfp, dfp_act, how<span style=color:#555>=</span><span style=color:#c30>&#39;left&#39;</span>, on<span style=color:#555>=</span><span style=color:#c30>&#39;Name&#39;</span>, suffixes<span style=color:#555>=</span>(<span style=color:#c30>&#39;&#39;</span>, <span style=color:#c30>&#39;.a&#39;</span>))
</code></pre></div><p><a href=https://www.fangraphs.com/plus/product/fangraphs-membership/>Also - If you use Fangraphs data a lot, it&rsquo;s worth considering becoming a member and supporting them a bit!</a></p></div></div></section><section class=section><div class=blog-post><h2><a class="title title-dark is-size-2-touch" href=https://zmsy.co/blog/automating/>The Uncomfortable Practice of Talking With Business Folk About Automation</a></h2><p class=meta>written by
<a href=https://twitter.com/_zmsy>Zach Morrissey</a>
on 2018-03-01</p><figure class="color-responsive-svg hero-diamonds"><svg viewBox="0 0 140 30" xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd" clip-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="1.41"><path d="M24.21 14.6 13.61 4 3 14.6l10.6 10.61 10.61-10.6zm28 0L41.61 4 31 14.6l10.6 10.61 10.61-10.6zm28 0L69.61 4 59 14.6l10.6 10.61 10.61-10.6zm28 0L97.61 4 87 14.6l10.6 10.61 10.61-10.6zm29 0L126.61 4 116 14.6l10.6 10.61 10.61-10.6z" style="fill:#38332a"/></svg></figure><div class=content><h2 id=sowhy-should-we-automate-this>So&mldr;Why Should We Automate This?</h2><p>One of the major stopping points in conversations with business users I&rsquo;ve noticed is talking about automation. For a lot of people I work with, automation is a confusing black box. The <strong>type of automation I&rsquo;m referencing is specific to scenarios wherein there exists no readily available commodity software that can solve the problem</strong> (e.g. no &ldquo;Version control? Git! Spreadsheet? Excel!").</p><p>Typical motivation:</p><ul><li>Current system is resulting in too many issues/errors.</li><li>Not scalable.</li><li>Reducing time that could be spent doing more productive things.</li><li>Little or no documentation. This may be coupled with never-ending trails of <em>&ldquo;Well maybe this person knows&rdquo;</em>.</li></ul><p>Conversations about it often form two sides:</p><ul><li>For engineers and other technical users, the benefits of automation are palpable and usually obvious.</li><li>For non-technical folk, the benefits usually come down to some variation on three specifics:<ul><li>Unlocking new capabilities.</li><li>Making things easier.</li><li>Delivering faster.</li></ul></li></ul><p>Since I work on a Data Science and Analytics team, a large portion of our audience is non-technical business users. I notice that, for people who&rsquo;ve never been involved in the process of automating a task or process, these are not motivating factors. In fact, many people who would benefit from the system actually push back against it being implemented.</p><p>Having this conversation is <em>never</em> simple or without controversy.</p><h3 id=reasons-end-users-dislike-the-process-of-automating-things>Reasons End Users Dislike The Process of Automating Things</h3><p>The hardest part about automating business processes, by orders of magnitude, is figuring out <em>what</em> to automate. The realm of manual processes is rife with inconsistencies, moving requirements, and baked-in assumptions.</p><p>The top reasons I&rsquo;ve noticed:</p><ul><li><strong>Loss of Control</strong> - This is normally the first and most important aspect of the conversation. A lot of people have grown accustomed to being able to handle something on their own, and they know intuitively when things are right and wrong. They have the ability to adjust outputs if they don&rsquo;t look right, or provide feedback where they think inputs are wrong.</li><li><strong>No Common Understanding</strong> - This is the most obvious point here, as everyone expects. There are a lot of fundamental concepts about automation that business users don&rsquo;t understand. Since most users are normally locked into a GUI with an interactive workflow, designing something to be run on a headless system that doesn&rsquo;t respond to user input is a very foreign model of computing. Users are usually concerned with how <em>they</em> interact with it.</li><li><strong>Fear of Upfront Costs</strong> - For the short term, there&rsquo;s normally a higher upfront time investment required for automating something.</li><li><strong>New Tool & Skill Requirements</strong> - Outside of technical disciplines, adding new skills to your toolkit is not always directly rewarded. Adding technical complexity is usually not something that factors into their decision calculus.</li></ul><p>The first two are usually scary enough to end users that they don&rsquo;t want to field questions about automating things.</p><h2 id=the-culture-divide>The Culture Divide</h2><p>Bridging the culture gap between my group and others is always a major source of frustration. Business users such as those in finance or sales operate in a different type of incentive system; one that rewards personal triumph as an outcome of executing a small set of goals well. This becomes frustrating when trying to sell them on an engineer&rsquo;s mindset: if some part of the process is faulty or is non-scalable, it&rsquo;s a fault of the process itself rather than the person(s) running it.</p><p>In the process of selling that approach, it&rsquo;s hard to avoid coming across as minimizing the problem. Framing the problem as one in need of automating can risk demeaning the importance of the outcomes that process, or the capabilities of the person currently owning it. As a result, I&rsquo;ve noticed users can become more entrenched in their ways because they don&rsquo;t feel like this will actually benefit them. They justifiably believe their work is valuable, and the engineer&rsquo;s approach of <em>let&rsquo;s-abstract-this-away-permanently</em> makes it seem like it&rsquo;s not fully grasping the importance of those current manual outputs.</p><p>It&rsquo;s something I&rsquo;ve come to respect and I&rsquo;ve gotten frustrated with the &lsquo;<em>end users amirite guys</em>&rsquo; attitude I regularly catch myself thinking. I will rarely have the depth of knowledge about the problem space compared to those I&rsquo;m working with. Combine that with a <a href=https://chrismm.com/blog/project-delays-why-software-estimates/>definitely-not-unique-to-me tendency to underestimate how long delivering an automated solution will take</a>, I realize that I sometimes deliver the effective one-two punch of both acting condescending and not delivering on what I promise.</p><h2 id=the-unknown-benefits-of-automation>The Unknown Benefits of Automation</h2><p>On the flipside, there&rsquo;s a lot that end users might not see or understand, but are normally provable benefits of automating something.</p><ul><li>Fixes Upstream Issues - A lot of the time, end users will fix problems that they see and not document them. When you automate a process, you need reasonable assumptions that you can make, and a lot of the time this forces upstream issues to be fixed.</li><li>Code is Documentation - Code is excellent for determining and making evident a specific task&rsquo;s requirements. There&rsquo;s not much that can beat &lsquo;codified logic to accomplish this task&rsquo; for organizational understanding on how to accomplish a task.</li><li>Less Error-prone - A lot of the time manual reporting or processes are done on a regular basis it usually follows some sort of prescribed process or script. People don&rsquo;t know how often they mess this stuff up, whereas with an automated system you can write tests to verify that all of your pre-conditions are met. One of the biggest wins for my stakeholders is often how much less time they spend triaging issues that arise.</li></ul><h2 id=my-approach>My Approach</h2><p>Fixing this problem, or at least improving it for myself, is something I&rsquo;m working on getting better at. Here&rsquo;s my takeaways from it all:</p><ul><li>Be empathetic. This may seem like an obvious platitude, but <em>caring</em> about their position in this situation is required for a solution that genuinely helps users out.</li><li>Deliver. Seems obvious, but give &lsquo;em the goods regularly and as soon as you can.</li><li>Provide an interface for talking about the system that will accomplish these tasks going forward. Talk about pieces of the work as functions, with an input and an output. Users want to know how <em>they</em> interact with it, so let them know.</li></ul><p>There&rsquo;s likely not going to be much that changes in my environment to make this conversation easier, so I think starting with this approach might be good enough.</p></div></div></section><section class=section><div class=blog-post><h2><a class="title title-dark is-size-2-touch" href=https://zmsy.co/blog/blog-versions/>The Long and Winding Road To This Blog</a></h2><p class=meta>written by
<a href=https://twitter.com/_zmsy>Zach Morrissey</a>
on 2018-02-28</p><figure class="color-responsive-svg hero-diamonds"><svg viewBox="0 0 140 30" xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd" clip-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="1.41"><path d="M24.21 14.6 13.61 4 3 14.6l10.6 10.61 10.61-10.6zm28 0L41.61 4 31 14.6l10.6 10.61 10.61-10.6zm28 0L69.61 4 59 14.6l10.6 10.61 10.61-10.6zm28 0L97.61 4 87 14.6l10.6 10.61 10.61-10.6zm29 0L126.61 4 116 14.6l10.6 10.61 10.61-10.6z" style="fill:#38332a"/></svg></figure><div class=content><h2 id=stagnation-is-rough>Stagnation is Rough</h2><p>I originally purchased the domain <a href=https://zmsy.co/>zmsy.co</a> in early 2014 when I was first taking coding somewhat seriously and decided that having a personal webpage for my technical conquests was appropriate. However, seeing as it&rsquo;s 2018 and I&rsquo;ve only just now published it, I kicked the can a bit further than I was expecting to.</p><p>Hopefully others can glean some useful information from my mistakes that I made in the progress of doing it.</p><h2 id=version-1---django--bootstrap-late-2014>Version 1 - Django + Bootstrap (Late 2014)</h2><p>Having put all of the intense, focused effort that is googling &lsquo;python web framework&rsquo; in 2014, Django was tops and Flask had only been recently announced. At this point I had absolutely zero serious web development under my belt, so I was using the <em>copy and paste from Stack Overflow</em> method of development. What came of this was not pretty, and fortunately I&rsquo;ve burned all the evidence.</p><p>Tech used:</p><ul><li>Python</li><li>Django</li><li>Bootstrap</li><li>jQuery</li></ul><h3 id=what-i-learned>What I Learned</h3><ul><li><strong>Node, node, node</strong> - In trying to use Bootstrap and a few other js dependencies, I found node.js and how npm worked. This was the first real exposure I had to any other cli + package manager system outside python.</li><li><strong>SCSS</strong> - Oh man, you can write <code>$orange</code> and place it everywhere? Heck yes you can.</li><li><strong>jQuery DOM selection</strong> - While the current version of this site doesn&rsquo;t use jQuery, I learned a lot by using the dom selection methods from jQuery. The <code>$(element)</code> syntax was so straightforward that it helped me bang out a lot of low-quality code really quick, which was the aim at that point. This was prior to any formal Javascript training of mine.</li><li><strong>Responsiveness</strong> - Going into this version, I was still used to <code>m.blank.com</code> style mobile pages. Seeing Bootstrap respond to different breakpoints really changed how I see mobile development working.</li><li><strong>Javascript</strong> - This was the first time I&rsquo;d ever written any amount of materially useful javascript. The final version of this site has relatively little js, but the first version had some callbacks to a database where I rendered blog posts after the page loaded. Seemed cool at the time.</li></ul><p>I never really got a grasp on <em>anything</em> at this point, to be quite honest. I was using a Bootstrap template that I was trying to populate with information. I used the <a href=https://github.com/h5bp/html5-boilerplate>HTML5 Boilerplate</a> as a basis for what I was doing, but it harmed my efforts in the end since it added a lot of noise that I didn&rsquo;t understand. As a total web dev beginner, this was a mistake.</p><h2 id=version-2---flask--bootstrap-2015>Version 2 - Flask + Bootstrap (2015)</h2><p>This version was very similar to Django, except for the fact that I was using Flask instead. Fundamentally, I still wasn&rsquo;t sure of what I was looking for, other than the fact that I needed a website, and that Flask/Django are supposed to be used to make websites. Considering I had no idea what media queries were at this point, and that I needed to find something that would at least get me the majority of the way towards what I was going for, Bootstrap was an appealing option.</p><h3 id=what-i-learned-1>What I Learned</h3><ul><li><strong>Bootstrap</strong> - This is probably a bit overkill for a personal blog, but at the time that I was making this version it seemed that basically everything was based on Bootstrap.</li><li><strong>Grid Layouts</strong> - Grids are super, super, super, super useful. Seeing how I was never particularly sure <em>how</em> I should layout my site, the most useful part of a grid for me was giving me a decision structure that I could look at the stuff on the site and say &ldquo;This should go here&rdquo;. It simplifies the terrifyingly open-ended process of creating a page from scratch.</li><li><strong>Database Interaction</strong> - The majority of my job for several years now has been interacting with databases, but the prospect of doing that from an application server had never really occurred to me. Using an application to regularly write information to the database brings with a whole host of new problems that are never really encountered if you&rsquo;re not using a database for production purposes.</li></ul><h2 id=version-3---flask--bulma-2016--2017>Version 3 - Flask + Bulma (2016 / 2017)</h2><p>Having gotten tired of Bootstrap and not particularly liking Less as a CSS pre-processor, I switched over to <a href=https://bulma.io/>Bulma</a> for a number of reasons. Considering this is a personal site and I&rsquo;m at no particular risk of alienating any part of my target audience, I decided to go with a flexbox-based framework for layouts, which would make my life a lot easier. Additionally, it didn&rsquo;t ship with any Javascript so that greatly improved my life. There was nothing easy about</p><h3 id=what-i-learned-2>What I Learned:</h3><ul><li><strong>Web Servers Are Still A Thing</strong> - Deploying to a real web server meant that I could no longer just the <code>app.run()</code> method that came with Flask. People use these <em>alongside</em> a normal webserver like nginx/apache? That&rsquo;s nuts!</li><li><strong>Docker</strong> - Containerization! Even though my final website I created was just flat files, this version was basically one that made it so that I could use a Docker container with nginx installed, add all of my dependencies, and then run it and have it work every time.</li><li><strong>Gulp</strong> - This was the first build tool that I ended up using, and its straightforward nature was excellent. Found it easy to pick up, and very powerful. The chaining of commands was really an excellent way of introducing myself to frontend build systems.</li></ul><h2 id=version-4---lektor--bulma-2018>Version 4 - Lektor + Bulma (2018)</h2><p>This is the version that I finally got right. The thing that I was missing on the earlier versions is that I&rsquo;m going to be regularly interacting with this site and changing the information on it. I didn&rsquo;t want to have to program all the aspects of that myself, so I decided to switch over to some sort of CMS. At work, I had recently used Jekyll to create an internal web site, so I decided to switch over to Lektor, which bills itself as a flat file CMS.</p><p>I primarily chose a static site generator mostly because I want people to have fast load times, I didn&rsquo;t want to have to care about a database and managing the migration/upgrades, and that it had an easier deployment path.</p><h4 id=static-site-generator-whats-that>Static Site Generator? What&rsquo;s That?</h4><p>A static site generator takes many of the innovations of dynamic web frameworks and uses that logic to be able to render things out to flat files for serving up using a web server.</p><ul><li><strong>Models</strong> - You define types of pages by creating a model, which defines which data fields will be contained therein.</li><li><strong>Templates</strong> - These are the HTML layouts that a model&rsquo;s content gets populated into.</li><li><strong>Content</strong> - This is the individual pieces of content that make their way onto the website. Oftentimes, these are either markdown blog posts or some other type of generated content.</li></ul><p>Conceptually, this was all super familiar to me from using Jinja2 in Flask, using a database to represent both the model (database schema) and the content (database rows).</p><h3 id=what-i-learned-when-i-finally-made-a-version-worth-deploying>What I Learned When I Finally Made a Version Worth Deploying</h3><ul><li><strong>Static Sites Generators</strong> - They&rsquo;re <em>stupid</em> easy to deploy. I can basically have a CI tool do the build and then push the files up to the web server and that&rsquo;s <em>it</em>. No database is good when you don&rsquo;t have a particular need for one.</li><li><strong>Lektor</strong> - This particular SSG has its own editing interface you can use to write things, so it makes creating new blog posts easy. I&rsquo;m planning on trying to learn it well enough to be able to contribute back at some point.</li><li><strong>Webpack</strong> - Similar to how I was using gulp, I&rsquo;ve switched to Webpack as a learning opportunity, and because it has a good integration with Lektor. At first impression, I <em>really</em> hated the config system I was using in 2.x and 3.x, but was a fan of the tool itself. Fortunately, Webpack 4 has just released with it&rsquo;s 0-config option, so I decided to use it. I found <a href=https://www.valentinog.com/blog/webpack-4-tutorial/>this webpack 4 tutorial</a> very helpful.</li></ul><h2 id=version-5---the-switch-to-jekyll-approaches-2018>Version 5 - The Switch to Jekyll Approaches (2018&mldr;?)</h2><p>Jekyll is and has always been the grandaddy of all static site generators, and the support from its plugin ecosystem far eclipses that of a smaller project like Lektor. Primarily, I am a fan of the editing interface and models / templating system (Jinja2 is still my favorite) in Lektor. Jekyll, however, has a lot more eyes on it and gets a lot more love from a maintenance perspective.</p><p>I gained a lot along the way though - the Jekyll portion will only render the static files that create the site itself. The next version of this site is going to a separate Flask API running on a different server, which will serve up data and information for the interactive <a href=https://zmsy.co/projects>Projects</a> page.</p></div></div></section></ul><div class=pagination><a href=https://zmsy.co/blog/page/2/>&#171; Previous</a>
<span>| 3 |</span>
<span class=disabled>Next &#187;</span></div></div></div></main></div><footer class=footer><div class="container has-text-centered"><p id=footer-text><strong>zmsy.co</strong> - A personal blog by Zach Morrissey. Copyright  2022. Hosted via <a href=https://pages.github.com/>Github Pages</a>.</p><p><img class=footer-dots src=https://zmsy.co/img/footer.svg alt="Five horizontal hand-drawn dots."></p></div></footer><script type=text/javascript src=https://zmsy.co/ts/index.f7b0289e2d20c1a1bca4f85bc63d70238fe73ef6cf103af405b22c557f1f1711.js integrity="sha256-97Aoni0gwaG8pPhbxj1wI4/nPvbPEDr0BbIsVX8fFxE=" defer></script><script type=application/javascript>var doNotTrack=!1;doNotTrack||(window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga('create','UA-104524581-1','auto'),ga('send','pageview'))</script><script async src=https://www.google-analytics.com/analytics.js></script></body></html>