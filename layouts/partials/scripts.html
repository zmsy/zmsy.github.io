{{ $minify := not .Site.BuildDrafts }}
{{ $settings := dict
  "minify" $minify
  "target" "es2018"
  "format" "esm"
}}
{{/* Built the JS and apply a secure fingerprint. */}}
{{ $built := resources.Get "ts/index.tsx"
  | js.Build $settings
  | resources.Fingerprint "sha256"
}}
<script
  type="text/javascript"
  src="{{ $built.RelPermalink }}"
  integrity="{{ $built.Data.Integrity }}"
  defer
></script>