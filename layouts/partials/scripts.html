{{ $inject := slice "ts/preact-inject.ts" }}
{{ $settings := dict
  "minify" true
  "target" "es2018"
  "inject" $inject
  "JSXFactory" "h"
  "JSXFragment" "Fragment"
}}
{{/* Built the JS and apply a secure fingerprint. */}}
{{ $built := resources.Get "ts/index.tsx"
  | js.Build $settings
  | resources.Fingerprint "sha256"
}}
<script
  type="text/javascript"
  src="{{ $built.RelPermalink }}"
  integrity="{{ $built.Data.Integrity }}"
  defer
></script>